<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css" integrity="sha256-2H3fkXt6FEmrReK448mDVGKb3WW2ZZw35gI7vqHOE4Y=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"marvinxu.top","root":"/","images":"/images","scheme":"Pisces","version":"8.6.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.6.1/source/js/config.min.js"></script>
<meta property="og:type" content="website">
<meta property="og:title" content="Marvin&#39;s Blog">
<meta property="og:url" content="https://marvinxu.top/index.html">
<meta property="og:site_name" content="Marvin&#39;s Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Marvin Xu">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://marvinxu.top/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Marvin's Blog</title>
  



<meta name="referrer" content="no-referrer" />

  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Marvin's Blog</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-overview">
            <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Marvin Xu</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">10</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/MarvinXu" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;MarvinXu" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:272077995@qq.com" title="E-Mail → mailto:272077995@qq.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



          </div>
        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://marvinxu.top/2021/06/02/yuque/%E4%B8%80%E9%94%AE%E5%A4%8D%E5%88%B6%20markdown%20%E9%93%BE%E6%8E%A5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Marvin Xu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Marvin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/06/02/yuque/%E4%B8%80%E9%94%AE%E5%A4%8D%E5%88%B6%20markdown%20%E9%93%BE%E6%8E%A5/" class="post-title-link" itemprop="url">一键复制 markdown 链接</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2021-06-02 06:48:39" itemprop="dateCreated datePublished" datetime="2021-06-02T06:48:39+00:00">2021-06-02</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2021-07-25 03:23:07" itemprop="dateModified" datetime="2021-07-25T03:23:07+00:00">2021-07-25</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>大家在写文章或者作笔记的时候必不可少的都会贴上链接，作为参考（Reference），但是每次都要分步复制链接和标题太麻烦了，于是找了下相关的工具。<br>​</p>
<p>一般有两种形式的链接：</p>
<ol>
<li>markdown 格式，适合纯文本的编辑器：<code>[百度一下，你就知道](https://www.baidu.com/)</code></li>
<li>富文本格式，适合富文本编辑器：<a target="_blank" rel="noopener" href="https://www.baidu.com/">百度一下，你就知道</a></li>
</ol>
<h2 id="Chrome-插件"><a href="#Chrome-插件" class="headerlink" title="Chrome 插件"></a>Chrome 插件</h2><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/laobie/mUrl">mUrl</a>：个人开发，轻量，仅支持 markdown</li>
<li><a target="_blank" rel="noopener" href="https://chrome.google.com/webstore/detail/tabcopy/micdllihgoppmejpecmkilggmaagfdmb/">TabCopy</a>：功能全，支持各种格式，快捷键（推荐）</li>
</ul>
<h2 id="JS-Bookmark"><a href="#JS-Bookmark" class="headerlink" title="JS Bookmark"></a>JS Bookmark</h2><p>第一次接触的同学可能不知道，可以用书签的方式在当前页面执行 JS 脚本，比如在地址栏输入：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javascript: alert(<span class="built_in">document</span>.title);</span><br></pre></td></tr></table></figure>

<p>就会弹出当前页面的标题。那我们也可以通过这种方法实现复制链接的功能。<br>​</p>
<p>PS: 有部分定制浏览器可能不支持这种方式</p>
<h3 id="利用-copy-事件监听"><a href="#利用-copy-事件监听" class="headerlink" title="利用 copy 事件监听"></a>利用 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Element/copy_event">copy</a> 事件监听</h3><p><code>copy</code> 事件的 <code>event</code> 对象可以直接访问 <code>clipboardData</code> 对象，可以设置剪贴板内容</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">copyHandler</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// markdown</span></span><br><span class="line">  <span class="comment">// e.clipboardData.setData(&#x27;text/plain&#x27;, `[$&#123;document.title&#125;]($&#123;location.href&#125;)`)</span></span><br><span class="line">  <span class="comment">// 富文本link</span></span><br><span class="line">  e.clipboardData.setData(</span><br><span class="line">    <span class="string">&quot;text/html&quot;</span>,</span><br><span class="line">    <span class="string">`&lt;a href=&quot;<span class="subst">$&#123;location.href&#125;</span>&quot;&gt;<span class="subst">$&#123;<span class="built_in">document</span>.title&#125;</span>&lt;/a&gt;`</span></span><br><span class="line">  );</span><br><span class="line">  e.preventDefault();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">&quot;copy&quot;</span>, copyHandler);</span><br><span class="line"><span class="built_in">document</span>.execCommand(<span class="string">&quot;copy&quot;</span>);</span><br><span class="line"><span class="built_in">window</span>.removeEventListener(<span class="string">&quot;copy&quot;</span>, copyHandler);</span><br></pre></td></tr></table></figure>

<h3 id="利用-Clipboard-write-方法"><a href="#利用-Clipboard-write-方法" class="headerlink" title="利用 Clipboard.write()方法"></a>利用 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/Clipboard/write">Clipboard.write()</a>方法</h3><p>创建 <code>Clipboard</code> 对象，向剪贴板写入<br>例子：<a target="_blank" rel="noopener" href="https://www.javascripture.com/ClipboardItem">ClipboardItem JavaScript API</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> html = <span class="string">`&lt;a href=&quot;<span class="subst">$&#123;location.href&#125;</span>&quot;&gt;<span class="subst">$&#123;<span class="built_in">document</span>.title&#125;</span>&lt;/a&gt;`</span>;</span><br><span class="line"><span class="keyword">const</span> blob = <span class="keyword">new</span> Blob([html], &#123; <span class="attr">type</span>: <span class="string">&quot;text/html&quot;</span> &#125;);</span><br><span class="line">navigator.clipboard.write([<span class="keyword">new</span> ClipboardItem(&#123; <span class="string">&quot;text/html&quot;</span>: blob &#125;)]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// tip: 不能直接复制到 console 运行，否则会报 DOMException: Document is not focused.</span></span><br></pre></td></tr></table></figure>

<h3 id="FYI"><a href="#FYI" class="headerlink" title="FYI"></a>FYI</h3><p>这里提供下两种格式的书签，需要的可以添加到书签：</p>
<h4 id="富文本"><a href="#富文本" class="headerlink" title="富文本"></a>富文本</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javascript: navigator.clipboard.write([new ClipboardItem(&#123;&#x27;text/html&#x27;: new Blob([`&lt;a href=&quot;$&#123;location.href&#125;&quot;&gt;$&#123;document.title&#125;&lt;/a&gt;`], &#123;type: &#x27;text/html&#x27;&#125;)&#125;)])</span><br></pre></td></tr></table></figure>

<h4 id="markdown"><a href="#markdown" class="headerlink" title="markdown"></a>markdown</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javascript: navigator.clipboard.writeText(`[$&#123;document.title&#125;]($&#123;location.href&#125;)`)</span><br></pre></td></tr></table></figure>

<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/beeeceb21afd">通过 JS 将带格式的文本复制到剪贴版的两种方法 - 简书</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://marvinxu.top/2021/04/07/yuque/%E5%9C%A8WIN%2010%E6%89%93%E5%BC%80%E7%BD%91%E9%93%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Marvin Xu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Marvin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/04/07/yuque/%E5%9C%A8WIN%2010%E6%89%93%E5%BC%80%E7%BD%91%E9%93%B6/" class="post-title-link" itemprop="url">在WIN 10打开网银</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2021-04-07 07:32:47" itemprop="dateCreated datePublished" datetime="2021-04-07T07:32:47+00:00">2021-04-07</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2021-07-25 03:23:07" itemprop="dateModified" datetime="2021-07-25T03:23:07+00:00">2021-07-25</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Microsoft Edge -&gt; 设置 -&gt; 默认浏览器 -&gt; Internet Explorer 兼容性</p>
<p><img src="https://cdn.nlark.com/yuque/0/2021/png/1310147/1617780807225-9e77b157-5d6f-4b5b-b65c-539350fd9afc.png#height=514&id=N2KYE&margin=%5Bobject%20Object%5D&name=image.png&originHeight=1027&originWidth=1915&originalType=binary%E2%88%B6=1&size=135711&status=done&style=none&width=957.5" alt="image.png"></p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2021/04/07/yuque/%E5%9C%A8WIN%2010%E6%89%93%E5%BC%80%E7%BD%91%E9%93%B6/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://marvinxu.top/2021/02/07/yuque/Seedr%20-%20%E5%9B%BD%E5%A4%96%20BT%20%E7%A7%8D%E5%AD%90%E7%A6%BB%E7%BA%BF%E4%B8%8B%E8%BD%BD%E7%A5%9E%E5%99%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Marvin Xu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Marvin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/02/07/yuque/Seedr%20-%20%E5%9B%BD%E5%A4%96%20BT%20%E7%A7%8D%E5%AD%90%E7%A6%BB%E7%BA%BF%E4%B8%8B%E8%BD%BD%E7%A5%9E%E5%99%A8/" class="post-title-link" itemprop="url">Seedr - 国外 BT 种子离线下载神器</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2021-02-07 09:56:20" itemprop="dateCreated datePublished" datetime="2021-02-07T09:56:20+00:00">2021-02-07</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2021-07-25 03:23:07" itemprop="dateModified" datetime="2021-07-25T03:23:07+00:00">2021-07-25</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>最近要下载一个国外种子，迅雷慢的要死，搜了一下国外种子离线下载<br><a target="_blank" rel="noopener" href="https://www.iplaysoft.com/bt-cloud-download.html">https://www.iplaysoft.com/bt-cloud-download.html</a></p>
<p>经过对比发现这么一款神器，<a target="_blank" rel="noopener" href="https://www.seedr.cc/?r=3433208">Seedr</a></p>
<ol>
<li>离线下载超快，2 个 G 种子大概 1 分钟</li>
<li>免费 2G 空间，并可赚取免费空间</li>
<li>国内下载速度快，平均 5MB/S</li>
</ol>
<p>​</p>
<!--- more -->

<blockquote>
<p>Seedr.cc can be a next-generation product or service going to deliver the bit-torrent protocol to another level as it is extremely fast and efficient as compared to the traditional torrent clients that uses peer to peer protocol to fetch torrents online.<br>​</p>
</blockquote>
<blockquote>
<p>Seedr.cc is an online torrent client that works just fine in almost every network across the globe. They also torrent streaming feature and there are options for non premium and premium users seperately. Seedr.cc is a great alternative and a much better user-friendly website than filestream.me and zbigz. You can use Internet Download Manager (IDM) to download cached torrents from seedr. The best part is that you can delete the torrents from the server whenever finished downloading, and get your space back for more torrents.<br>​</p>
</blockquote>
<blockquote>
<ul>
<li>Download torrents even if torrent traffic is blocked in your network, thus bypass torrent filter.</li>
<li>No need to keep your machine powered on , just add your torrent file/magnet link to leech, and it will automatically leech for you.</li>
<li>The torrent health doesn’t matter, thus you can even download torrents with lesser seeds.</li>
<li>You can download torrents via IDM with Resume support!</li>
</ul>
</blockquote>
<p>与著名离线下载网站 Offcloud 的对比：<img src="https://cdn.nlark.com/yuque/0/2021/png/1310147/1612693132689-2e35511a-635f-4505-a41e-225f1021b395.png#height=903&id=afqjD&margin=%5Bobject%20Object%5D&name=2021-02-07_175514.png&originHeight=903&originWidth=1920&originalType=binary%E2%88%B6=1&size=122136&status=done&style=none&width=1920" alt="2021-02-07_175514.png"><br>离线下载慢，将近 2 小时，而 Seedr 秒完成<br><img src="https://cdn.nlark.com/yuque/0/2021/png/1310147/1612693256005-54b201f7-e043-4dd4-8f79-706e5ad26d84.png#height=903&id=RJJrf&margin=%5Bobject%20Object%5D&name=2021-02-07_175845.png&originHeight=903&originWidth=1920&originalType=binary%E2%88%B6=1&size=48045&status=done&style=none&width=1920" alt="2021-02-07_175845.png"></p>
<p>IDM 下载速度实测：<br><img src="https://cdn.nlark.com/yuque/0/2021/png/1310147/1612693302337-73312314-061b-482e-b823-a6cacb697203.png#height=542&id=rlmbM&margin=%5Bobject%20Object%5D&name=2021-02-07_175816.png&originHeight=542&originWidth=680&originalType=binary%E2%88%B6=1&size=76458&status=done&style=none&width=680" alt="2021-02-07_175816.png"><br>放下我的推广链接，注册可以获得额外 500MB 容量：<a target="_blank" rel="noopener" href="https://www.seedr.cc/?r=3433208">https://www.seedr.cc/?r=3433208</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://marvinxu.top/2020/10/12/yuque/Dive%20into%20Object.defineProperty/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Marvin Xu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Marvin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/10/12/yuque/Dive%20into%20Object.defineProperty/" class="post-title-link" itemprop="url">Dive into Object.defineProperty</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-10-12 07:45:21" itemprop="dateCreated datePublished" datetime="2020-10-12T07:45:21+00:00">2020-10-12</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2021-07-25 03:23:07" itemprop="dateModified" datetime="2021-07-25T03:23:07+00:00">2021-07-25</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><blockquote>
<p>Object.defineProperty(obj, prop, descriptor)</p>
</blockquote>
<p>返回值：传入的 obj<br>testing!!</p>
<h3 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h3><p>通过赋值创建的属性默认是可枚举 (for…in \ Object.keys)，可以修改值，也可以被删除的。而 Object.defineProperty 可以修改这些特性。<br>默认通过 Object.defineProperty 添加的属性是不可修改且不可枚举的。</p>
<!--- more -->

<h3 id="两种形式的描述符"><a href="#两种形式的描述符" class="headerlink" title="两种形式的描述符"></a>两种形式的描述符</h3><ul>
<li>data descriptor 数据描述符</li>
<li>accessor descriptor 访问器描述符</li>
</ul>
<p>两种描述符都是对象，共享以下键值：</p>
<ul>
<li>configurable</li>
<li>enumerable</li>
</ul>
<p>数据描述符特有：</p>
<ul>
<li>writable</li>
<li>value</li>
</ul>
<p>访问器描述符特有：</p>
<ul>
<li>set</li>
<li>get</li>
</ul>
<p>描述符只能为其一，如果有 (value || writable) &amp;&amp; (set || get) 则报错</p>
<h3 id="回顾：对象属性类型"><a href="#回顾：对象属性类型" class="headerlink" title="回顾：对象属性类型"></a>回顾：对象属性类型</h3><p>与描述符对应的，对象属性也有两种类型</p>
<ul>
<li>数据属性</li>
<li>访问器属性</li>
</ul>
<p>直接赋值的属性都是数据属性</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;;</span><br><span class="line">obj.b = <span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<p>与描述符的键值对应的属性特性表现在这些内部值上 <code>[[Configurable]]</code> 、 <code>[[Enumerable]] </code>、<code>[[Writable]]</code> 、<code>[[Value]]</code><br>按上述方式定义的属性，前三个特性都是 true</p>
<p>访问器属性必须用 <code>Object.defineProperty</code> 来定义</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">&quot;name&quot;</span>, &#123;</span><br><span class="line">  <span class="function"><span class="title">get</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;hi&quot;</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="几种特性的作用"><a href="#几种特性的作用" class="headerlink" title="几种特性的作用"></a>几种特性的作用</h3><h4 id="Configurable"><a href="#Configurable" class="headerlink" title="Configurable"></a>Configurable</h4><p>能否用 delete 删除属性，能否修改属性的特性，或者能否在数据属性和访问器属性间切换<br>如果 Configurable 为 false：</p>
<ol>
<li>新的 Configurable 为 true，报错</li>
<li>新的 Enumerable 与旧的不一致，报错</li>
<li>由数据属性变为访问器属性或反之，报错</li>
<li>保持为数据属性，旧的 Writable 为 false，新的 Writable 为 true，报错</li>
<li>保持为数据属性，旧的 Writable 为 false，新的 Value 跟旧的不一样，报错</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://tc39.es/ecma262/#sec-validateandapplypropertydescriptor">https://tc39.es/ecma262/#sec-validateandapplypropertydescriptor</a><br>总结一下 Configurable 为 false 时能修改的特性：</p>
<ol>
<li>writable：true -&gt; false</li>
<li>writable: true &amp; value: a -&gt; b</li>
</ol>
<h4 id="Writable"><a href="#Writable" class="headerlink" title="Writable"></a>Writable</h4><p>为 false 时，不能重新赋值，但如果 Configurable 为 true，可以通过 define value 修改值</p>
<h4 id="Enumerable"><a href="#Enumerable" class="headerlink" title="Enumerable"></a>Enumerable</h4><p>是否可以在 <code>for...in</code> 和 <code>Object.keys()</code> 中被枚举<br>NOTE：</p>
<ol>
<li>不管 Enumberable 是 true 还是 false，Symbol 类型的 key 都不会在上述方法被枚举</li>
<li><code>...</code> 展开运算符会包含 Symbol，且只有 Enumerable 为 true 的属性被枚举</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://marvinxu.top/2020/07/12/yuque/Github%20Pages%20hexo%E5%8D%9A%E5%AE%A2%E5%8A%A0%E9%80%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Marvin Xu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Marvin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/07/12/yuque/Github%20Pages%20hexo%E5%8D%9A%E5%AE%A2%E5%8A%A0%E9%80%9F/" class="post-title-link" itemprop="url">Github Pages hexo博客加速</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-07-12 06:35:45" itemprop="dateCreated datePublished" datetime="2020-07-12T06:35:45+00:00">2020-07-12</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2021-07-25 03:23:07" itemprop="dateModified" datetime="2021-07-25T03:23:07+00:00">2021-07-25</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="使用-CDN"><a href="#使用-CDN" class="headerlink" title="使用 CDN"></a>使用 CDN</h2><p>首先考察了一些 CDN 服务商，还是以免费为原则，参考<br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/wpjamer/articles/10925764.html">https://www.cnblogs.com/wpjamer/articles/10925764.html</a><br>但试了几个我就放弃了，国内 CDN 都需要备案，Cloudfare 速度又太慢。。</p>
<h3 id="jsDelivr"><a href="#jsDelivr" class="headerlink" title="jsDelivr"></a><strong>jsDelivr</strong></h3><p>后来发现这个，即插即用的方式真是如获至宝，所有 github 资源都能直接用 cdn 访问</p>
<!--- more -->

<h4 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// load any GitHub release, commit, or branch</span><br><span class="line">// note: we recommend using npm for projects that support it</span><br><span class="line">https://cdn.jsdelivr.net/gh/user/repo@version/file</span><br><span class="line"></span><br><span class="line">// load jQuery v3.2.1</span><br><span class="line">https://cdn.jsdelivr.net/gh/jquery/jquery@3.2.1/dist/jquery.min.js</span><br></pre></td></tr></table></figure>

<p>例子：<a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/marvinxu/marvinxu.github.io@master/images/favicon-32x32.png">https://cdn.jsdelivr.net/gh/marvinxu/marvinxu.github.io@master/images/favicon-32x32.png</a></p>
<h3 id="Hexo-next-主题-CDN-配置"><a href="#Hexo-next-主题-CDN-配置" class="headerlink" title="Hexo - next 主题 CDN 配置"></a>Hexo - next 主题 CDN 配置</h3><p>主题配置文件 config.yml：</p>
<ul>
<li>vendors 下配置 library 使用 CDN</li>
<li>favicon\avatar 使用 CDN</li>
</ul>
<p>源码修改：<br>main.css -&gt; head.swig<br>js -&gt; engine.js</p>
<p>直接看 commit 吧<br><a target="_blank" rel="noopener" href="https://github.com/MarvinXu/blog-hexo/commit/7fdf252e2d80d661b68471908615990f5bb892b8">https://github.com/MarvinXu/blog-hexo/commit/7fdf252e2d80d661b68471908615990f5bb892b8</a></p>
<h2 id="HTML-瘦身"><a href="#HTML-瘦身" class="headerlink" title="HTML 瘦身"></a>HTML 瘦身</h2><p>因为 index.html 不走 CDN，所以也要控制大小。next 主题默认首页会展示文章全文，导致 index.html 很大，可以进行如下设置</p>
<h3 id="设置文章截断"><a href="#设置文章截断" class="headerlink" title="设置文章截断"></a>设置文章截断</h3><p>语雀写文章的时候加入截断标志</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--- more --&gt;</span><br></pre></td></tr></table></figure>

<h3 id="减小首页-pagesize"><a href="#减小首页-pagesize" class="headerlink" title="减小首页 pagesize"></a>减小首页 pagesize</h3><p>config.yml</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Home page setting</span></span><br><span class="line"><span class="comment"># path: Root path for your blogs index page. (default = &#x27;&#x27;)</span></span><br><span class="line"><span class="comment"># per_page: Posts displayed per page. (0 = disable pagination)</span></span><br><span class="line"><span class="comment"># order_by: Posts order. (Order by date descending by default)</span></span><br><span class="line"><span class="attr">index_generator:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">&quot;&quot;</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="number">5</span></span><br><span class="line">  <span class="attr">order_by:</span> <span class="string">-date</span></span><br></pre></td></tr></table></figure>

<h2 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h2><p>之前加载 8<del>15s，加速后基本 1</del>2s</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a target="_blank" rel="noopener" href="https://theme-next.js.org/docs/advanced-settings.html">https://theme-next.js.org/docs/advanced-settings.html</a><br><a target="_blank" rel="noopener" href="https://hexo.io/docs/helpers#url-for">https://hexo.io/docs/helpers#url-for</a><br><a target="_blank" rel="noopener" href="https://theme-next.js.org/docs/theme-settings/posts.html">https://theme-next.js.org/docs/theme-settings/posts.html</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://marvinxu.top/2020/06/12/yuque/%E8%AF%AD%E9%9B%80%E6%96%87%E7%AB%A0%E8%87%AA%E5%8A%A8%E5%90%8C%E6%AD%A5%E5%88%B0%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Marvin Xu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Marvin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/06/12/yuque/%E8%AF%AD%E9%9B%80%E6%96%87%E7%AB%A0%E8%87%AA%E5%8A%A8%E5%90%8C%E6%AD%A5%E5%88%B0%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/" class="post-title-link" itemprop="url">语雀文章自动同步到个人博客</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-06-12 17:03:59" itemprop="dateCreated datePublished" datetime="2020-06-12T17:03:59+00:00">2020-06-12</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2021-07-25 03:23:07" itemprop="dateModified" datetime="2021-07-25T03:23:07+00:00">2021-07-25</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1310147/1592139758781-40601637-64a1-4ab2-a846-a256cfbc3766.png#height=452&id=zHM4g&margin=%5Bobject%20Object%5D&name=yuque_diagram.png&originHeight=452&originWidth=1436&originalType=binary%E2%88%B6=1&size=63972&status=done&style=none&width=1436" alt="yuque_diagram.png"></p>
<blockquote>
<p>接上篇 <a target="_blank" rel="noopener" href="https://www.yuque.com/marvinxu/blog/gzlvqk">hexo+travisCI 自动部署 github pages</a>，后面的部分操作是基于上篇的</p>
</blockquote>
<h2 id="yuque-hexo-拉取文章"><a href="#yuque-hexo-拉取文章" class="headerlink" title="yuque-hexo 拉取文章"></a>yuque-hexo 拉取文章</h2><p><a target="_blank" rel="noopener" href="https://github.com/x-cold/yuque-hexo">https://github.com/x-cold/yuque-hexo</a></p>
<h3 id="安装-yuque-hexo"><a href="#安装-yuque-hexo" class="headerlink" title="安装 yuque-hexo"></a>安装 yuque-hexo</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i --save-dev yuque-hexo</span><br></pre></td></tr></table></figure>

<!--- more -->

<h3 id="修改-package-json-文件"><a href="#修改-package-json-文件" class="headerlink" title="修改 package.json 文件"></a>修改 package.json 文件</h3><p>参数说明：以我的博客知识库为例，链接为<a target="_blank" rel="noopener" href="https://www.yuque.com/marvinxu/blog">https://www.yuque.com/marvinxu/blog</a>，login 和 repo 参数对应如下</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;yuqueConfig&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;baseUrl&quot;</span>: <span class="string">&quot;https://www.yuque.com/api/v2&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;login&quot;</span>: <span class="string">&quot;marvinxu&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;repo&quot;</span>: <span class="string">&quot;blog&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;sync&quot;</span>: <span class="string">&quot;yuque-hexo sync&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;clean:yuque&quot;</span>: <span class="string">&quot;yuque-hexo clean&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;build:yuque&quot;</span>: <span class="string">&quot;npm run sync &amp;&amp; hexo clean &amp;&amp; hexo g&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="本地测试"><a href="#本地测试" class="headerlink" title="本地测试"></a>本地测试</h3><p>语雀 token 获取：<a target="_blank" rel="noopener" href="https://www.yuque.com/settings/tokens">https://www.yuque.com/settings/tokens</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">YUQUE_TOKEN=xxx npm run sync</span><br></pre></td></tr></table></figure>

<p>执行成功会得到类似如下的日志</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[INFO] clear previous directory.</span><br><span class="line">[INFO] remove yuque posts: /home/travis/build/MarvinXu/blog-hexo/source/_posts/yuque</span><br><span class="line">[INFO] reading from local file: /home/travis/build/MarvinXu/blog-hexo/yuque.json</span><br><span class="line">[INFO] article amount: 6</span><br><span class="line">[INFO] download article body: 语雀web-hook触发travis-ci构建</span><br><span class="line">[INFO] download articles done!</span><br><span class="line">[INFO] writing to local file: /home/travis/build/MarvinXu/blog-hexo/yuque.json</span><br><span class="line">[INFO] create posts directory (if it not exists): /home/travis/build/MarvinXu/blog-hexo/source/_posts/yuque</span><br><span class="line">[INFO] generate post file: /home/travis/build/MarvinXu/blog-hexo/source/_posts/yuque/How to add more to Git Bash on Windows.md</span><br><span class="line">[INFO] generate post file: /home/travis/build/MarvinXu/blog-hexo/source/_posts/yuque/hexo+travisCI自动部署github pages.md</span><br><span class="line">[INFO] generate post file: /home/travis/build/MarvinXu/blog-hexo/source/_posts/yuque/git-style-guide.md</span><br><span class="line">[INFO] generate post file: /home/travis/build/MarvinXu/blog-hexo/source/_posts/yuque/七牛云图床挂了？不用自定义域名找回图片.md</span><br><span class="line">[INFO] generate post file: /home/travis/build/MarvinXu/blog-hexo/source/_posts/yuque/用Adobe Acrobat为电子书制作书签.md</span><br><span class="line">[INFO] generate post file: /home/travis/build/MarvinXu/blog-hexo/source/_posts/yuque/语雀web-hook触发travis-ci构建.md</span><br><span class="line">[INFO] yuque-hexo sync done!</span><br></pre></td></tr></table></figure>

<h2 id="配置-TravisCI"><a href="#配置-TravisCI" class="headerlink" title="配置 TravisCI"></a>配置 TravisCI</h2><h3 id="修改-travis-yml"><a href="#修改-travis-yml" class="headerlink" title="修改.travis.yml"></a>修改.travis.yml</h3><p>script 要换成  npm run build:yuque</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">language: node_js</span><br><span class="line">node_js:</span><br><span class="line">  - 10</span><br><span class="line">script:</span><br><span class="line">  - <span class="string">&quot;npm run build:yuque&quot;</span></span><br><span class="line">cache:</span><br><span class="line">  directories:</span><br><span class="line">    - node_modules</span><br><span class="line">deploy:</span><br><span class="line">  provider: pages</span><br><span class="line">  skip_cleanup: <span class="literal">true</span></span><br><span class="line">  github_token: <span class="variable">$GITHUB_TOKEN</span>  <span class="comment"># Set in the settings page of your repository, as a secure variable</span></span><br><span class="line">  keep_history: <span class="literal">true</span></span><br><span class="line">  repo: MarvinXu/marvinxu.github.io</span><br><span class="line">  target_branch: master</span><br><span class="line">  local_dir: public</span><br><span class="line">  on:</span><br><span class="line">    branch: master</span><br></pre></td></tr></table></figure>

<h3 id="新增环境变量-YUQUE-TOKEN"><a href="#新增环境变量-YUQUE-TOKEN" class="headerlink" title="新增环境变量 YUQUE_TOKEN"></a>新增环境变量 YUQUE_TOKEN</h3><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1310147/1592034125382-283aede7-7e4b-4dfd-a03e-82b14593520c.png#height=125&id=sBFfe&margin=%5Bobject%20Object%5D&name=image.png&originHeight=249&originWidth=1004&originalType=binary%E2%88%B6=1&size=25649&status=done&style=none&width=502" alt="image.png"></p>
<h2 id="新建阿里云函数"><a href="#新建阿里云函数" class="headerlink" title="新建阿里云函数"></a>新建阿里云函数</h2><p>打开阿里云控制台，搜索“函数计算”，在某个服务下新建函数，选择“HTTP 函数”<br><img src="https://cdn.nlark.com/yuque/0/2020/png/1310147/1592034259601-b681eac4-ce6d-413d-a8a9-ab7751581821.png#height=298&id=PFBir&margin=%5Bobject%20Object%5D&name=image.png&originHeight=595&originWidth=1188&originalType=binary%E2%88%B6=1&size=77287&status=done&style=none&width=594" alt="image.png"><br>注意配置触发器时，请求方式一定要加上 POST（语雀 webhook 是 POST 请求）<br><img src="https://cdn.nlark.com/yuque/0/2020/png/1310147/1592034434408-4701e454-0c25-4338-875b-72312a06a5d3.png#height=242&id=SMDt6&margin=%5Bobject%20Object%5D&name=image.png&originHeight=484&originWidth=1021&originalType=binary%E2%88%B6=1&size=56122&status=done&style=none&width=510.5" alt="image.png"><br>打开云函数，在“代码执行”里编写云函数，写法参考：<br><a target="_blank" rel="noopener" href="https://github.com/x-cold/aliyun-function/blob/master/travis_ci/travis_ci.js">https://github.com/x-cold/aliyun-function/blob/master/travis_ci/travis_ci.js</a></p>
<h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><p>在“触发器”里，得到访问的路径，可在本地用 postman 调用，如果调用成功，就会触发 TravisCI 的构建。</p>
<p>参数说明：</p>
<p>| token | 从  <a target="_blank" rel="noopener" href="https://travis-ci.org/account/preferences">https://travis-ci.org/account/preferences</a><br>  获取 |<br>| — | — |<br>| repos | travis 项目 id 或 slug(eg: MarvinXu/blog-hexo) |<br>| branch | 要构建的分支 |</p>
<p><a target="_blank" rel="noopener" href="https://1255463568451268.cn-hangzhou.fc.aliyuncs.com/2016-08-15/proxy/travis-ci/yuque/?token=xxx&branch=master&repos=MarvinXu/blog-hexo">https://1255463568451268.cn-hangzhou.fc.aliyuncs.com/2016-08-15/proxy/travis-ci/yuque/?token=xxx&amp;branch=master&amp;repos=MarvinXu/blog-hexo</a></p>
<h2 id="配置语雀-webhook"><a href="#配置语雀-webhook" class="headerlink" title="配置语雀 webhook"></a>配置语雀 webhook</h2><p>你的知识库 -&gt; 设置 -&gt; 开发者 -&gt;添加 Web Hook<br>注意：单选“仅主动推送更新触发”没有用，必须配合后面的选项使用<br><img src="https://cdn.nlark.com/yuque/0/2020/png/1310147/1592035695558-9f8f4e92-ff6c-4d5b-887b-6d66da9b7c7d.png#height=235&id=jXR23&margin=%5Bobject%20Object%5D&name=image.png&originHeight=470&originWidth=716&originalType=binary%E2%88%B6=1&size=47632&status=done&style=none&width=358" alt="image.png"></p>
<p>好啦~ 现在可以在语雀写文章，发布或更新时勾选“文章有较大更新，推送…”，就会自动同步到博客啦~<br>欢迎访问我的博客 <a href="https://marvinxu.top/">https://marvinxu.top</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://marvinxu.top/2020/06/12/yuque/hexo+travisCI%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2github%20pages/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Marvin Xu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Marvin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/06/12/yuque/hexo+travisCI%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2github%20pages/" class="post-title-link" itemprop="url">hexo+travisCI自动部署github pages</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-06-12 09:24:27" itemprop="dateCreated datePublished" datetime="2020-06-12T09:24:27+00:00">2020-06-12</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2021-07-25 03:23:07" itemprop="dateModified" datetime="2021-07-25T03:23:07+00:00">2021-07-25</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="两种方式"><a href="#两种方式" class="headerlink" title="两种方式"></a>两种方式</h2><p>利用 github pages 搭建个人博客一般有两种组织方式：</p>
<ol>
<li>建两个项目，一个项目 blog 用于存放博客源码，另一个项目 xxx.github.io 用于部署生成的静态文件</li>
<li>只建一个项目 blog，master 分支存放博客源码，生成的静态文件部署到 gh-pages 分支</li>
</ol>
<p>区别是第一种可以直接用<a target="_blank" rel="noopener" href="https://xxx.github.io/">https://xxx.github.io</a>访问博客，而第二种要加项目名，即<a target="_blank" rel="noopener" href="https://xxx.github.io/blog">https://xxx.github.io/blog</a>，我选的是第一种。</p>
<!--- more -->

<h2 id="hexo-快速搭建"><a href="#hexo-快速搭建" class="headerlink" title="hexo 快速搭建"></a>hexo 快速搭建</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm i -g hexo-cli</span><br><span class="line">hexo init blog-hexo</span><br><span class="line"><span class="built_in">cd</span> blog-hexo</span><br></pre></td></tr></table></figure>

<h3 id="配置主题"><a href="#配置主题" class="headerlink" title="配置主题"></a>配置主题</h3><p><a target="_blank" rel="noopener" href="https://github.com/next-theme/hexo-theme-next">https://github.com/next-theme/hexo-theme-next</a><br>使用 git clone 安装后 git commit 时会提示用 submodule，为了简单我直接把主题的.git 文件删掉了。</p>
<blockquote>
<p>待研究：<a target="_blank" rel="noopener" href="https://juejin.im/post/5c2e22fcf265da615d72c596">在 hexo 中使用 git submodules 管理主题</a></p>
</blockquote>
<h3 id="手动部署"><a href="#手动部署" class="headerlink" title="手动部署"></a>手动部署</h3><blockquote>
<p>Just for a reminder，本文重点是后面的 Travis CI 自动部署</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i --save hexo-deployer-git</span><br></pre></td></tr></table></figure>

<p>_config.yml 添加配置</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: git</span><br><span class="line">  repo: https://github.com/MarvinXu/marvinxu.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>

<h2 id="travisCI-自动部署"><a href="#travisCI-自动部署" class="headerlink" title="travisCI 自动部署"></a>travisCI 自动部署</h2><h3 id="1-登录-travisCI-并关联项目"><a href="#1-登录-travisCI-并关联项目" class="headerlink" title="1. 登录 travisCI 并关联项目"></a>1. 登录 travisCI 并关联项目</h3><p><a target="_blank" rel="noopener" href="https://travis-ci.org/">https://travis-ci.org/</a> 使用 github 账号登录，关联 blog 项目</p>
<h3 id="2-blog-项目添加-travis-yml"><a href="#2-blog-项目添加-travis-yml" class="headerlink" title="2. blog 项目添加.travis.yml"></a>2. blog 项目添加.travis.yml</h3><p>流程：构建生成静态页 -&gt; 部署到 marvinxu.github.io<br>参考 <a target="_blank" rel="noopener" href="https://docs.travis-ci.com/user/deployment/pages/">https://docs.travis-ci.com/user/deployment/pages/</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">language: node_js</span><br><span class="line">node_js:</span><br><span class="line">  - 8</span><br><span class="line">script:</span><br><span class="line">  - <span class="string">&quot;npm run build&quot;</span></span><br><span class="line">cache:</span><br><span class="line">  directories:</span><br><span class="line">    - node_modules</span><br><span class="line">deploy:</span><br><span class="line">  provider: pages</span><br><span class="line">  skip_cleanup: <span class="literal">true</span></span><br><span class="line">  <span class="comment"># access token存储在环境变量中防止泄露，后面会说明如何添加</span></span><br><span class="line">  github_token: <span class="variable">$GITHUB_TOKEN</span></span><br><span class="line">  keep_history: <span class="literal">true</span></span><br><span class="line">  <span class="comment"># 指定部署的repo，默认为当前repo</span></span><br><span class="line">  repo: MarvinXu/marvinxu.github.io</span><br><span class="line">  <span class="comment"># 指定branch，默认为gh-pages</span></span><br><span class="line">  target_branch: master</span><br><span class="line">  <span class="comment"># 指定要部署的文件夹，hexo构建生成在public目录下</span></span><br><span class="line">  local_dir: public</span><br><span class="line">  on:</span><br><span class="line">    branch: master</span><br></pre></td></tr></table></figure>

<h3 id="3-获取-github-token"><a href="#3-获取-github-token" class="headerlink" title="3. 获取 github token"></a>3. 获取 github token</h3><p>路径：Settings -&gt; Developer settings -&gt; Personal access tokens -&gt; generate new token<br>因为我们的 blog 项目是 public 的，只需选择 public_repo 权限，确定得到 token 串</p>
<blockquote>
<p>问题记录：我第一次选的权限是整个 repo，结果触发构建时报错了，提示“gh-token is invalid”，后来改为只选择 public_repo 才正常<br><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/50227342/gh-token-is-invalid-github-pages-deployment-on-travis/62341297#62341297">https://stackoverflow.com/questions/50227342/gh-token-is-invalid-github-pages-deployment-on-travis/62341297#62341297</a> &gt; <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/23277391/how-to-publish-to-github-pages-from-travis-ci">https://stackoverflow.com/questions/23277391/how-to-publish-to-github-pages-from-travis-ci</a></p>
</blockquote>
<h3 id="4-在-travisCI-项目中添加环境变量"><a href="#4-在-travisCI-项目中添加环境变量" class="headerlink" title="4. 在 travisCI 项目中添加环境变量"></a>4. 在 travisCI 项目中添加环境变量</h3><p>在项目设置里，添加变量名为 GITHUB_TOKEN，值为刚才获取的 token<br><img src="https://cdn.nlark.com/yuque/0/2020/png/1310147/1591956537089-d4ddced6-4ad7-4d98-9197-75f4fe42dc38.png#align=left&display=inline&height=185&margin=%5Bobject%20Object%5D&name=image.png&originHeight=369&originWidth=1512&size=50103&status=done&style=none&width=756" alt="image.png"><br>至此已经完成自动部署的配置，当 blog 项目发生 push 操作时，自动部署就会触发啦~</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://marvinxu.top/2020/06/11/yuque/git-style-guide/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Marvin Xu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Marvin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/06/11/yuque/git-style-guide/" class="post-title-link" itemprop="url">git-style-guide</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-06-11 12:06:39" itemprop="dateCreated datePublished" datetime="2020-06-11T12:06:39+00:00">2020-06-11</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2021-07-25 03:23:07" itemprop="dateModified" datetime="2021-07-25T03:23:07+00:00">2021-07-25</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="branch"><a href="#branch" class="headerlink" title="branch"></a>branch</h2><ul>
<li>分支名要求简洁、清楚描述分支的作用，使用短横线’-‘分隔</li>
<li>合并后删除远端分支</li>
</ul>
<h2 id="commit"><a href="#commit" class="headerlink" title="commit"></a>commit</h2><ul>
<li>一个提交对应一个逻辑修改。不要将多个逻辑修改放在一次提交，也不要将一个逻辑修改拆分为多次提交。</li>
<li>确保每次提交改动的文件与此次修改相关。不要把 merge 过来的代码放到本次提交。</li>
<li>小步提交、尽早提交。只有提交过的代码才是可恢复的。</li>
</ul>
<!--- more -->

<h3 id="commit-message"><a href="#commit-message" class="headerlink" title="commit message"></a>commit message</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="built_in">type</span>&gt;(&lt;scope&gt;): &lt;subject&gt;</span><br><span class="line">&lt;BLANK LINE&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;BLANK LINE&gt;</span><br><span class="line">&lt;footer&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>&lt;type&gt;</code> 修改类型，<strong>只允许使用下面列出的类型</strong></li>
<li><code>&lt;scope&gt;</code> 影响的范围，写项目中对应的目录名称，如 index、fastsell、deliveryman</li>
<li><code>&lt;subject&gt;</code> 简要说明修改的内容</li>
<li><code>&lt;body&gt;</code> 补充、详细说明 commit 内容</li>
<li><code>&lt;footer&gt;</code> 附上需求或 bug 的 iwork 链接</li>
</ul>
<h4 id="types"><a href="#types" class="headerlink" title="types"></a>types</h4><ul>
<li>feat: (feature) 新功能</li>
<li>fix: 修复错误</li>
<li>refactor: 代码重构，既不修复错误也不添加功能</li>
<li>chore: 构建过程或辅助工具的变动</li>
<li>docs: 文档</li>
<li>style: 格式（缩进、空行等）</li>
</ul>
<h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fix(order): 修复订单列表和详情商品图大小问题</span><br><span class="line">旧商品图是后端拼接尺寸和裁剪参数，新商品不带这些参数，前端需要做下兼容</span><br><span class="line">http://iwork3.58corp.com/bug/detail/ZZYP-2222</span><br></pre></td></tr></table></figure>

<h2 id="开发流程"><a href="#开发流程" class="headerlink" title="开发流程"></a>开发流程</h2><ol>
<li>分支开发，每个新需求或 bug 修复从远端 master 创建新分支</li>
<li>分支提测，每次提测前<code>rebase origin/master</code></li>
<li>QA 测试完成后发起 MR，由管理员<strong>手动</strong>合并到 master（跟直接 accept mr 相比会少一个 merge commit）</li>
<li>再次提测，QA 验证 master 代码无误后上线</li>
</ol>
<h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips:"></a>Tips:</h2><ol>
<li>如果你想合并几个 commit，应该用 <code>git rebase -i HEAD~4</code></li>
<li>如果你刚提交完一个 commit，发现还有点东西忘了改，这时可以用 <code>git commit --amend</code></li>
<li>…</li>
</ol>
<h2 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h2><ol>
<li><a target="_blank" rel="noopener" href="https://bingohuang.gitbooks.io/progit2/">Pro Git，第二版，简体中文</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/agis/git-style-guide">git style guide</a></li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://marvinxu.top/2020/06/11/yuque/%E4%B8%83%E7%89%9B%E4%BA%91%E5%9B%BE%E5%BA%8A%E6%8C%82%E4%BA%86%EF%BC%9F%E4%B8%8D%E7%94%A8%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D%E6%89%BE%E5%9B%9E%E5%9B%BE%E7%89%87/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Marvin Xu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Marvin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/06/11/yuque/%E4%B8%83%E7%89%9B%E4%BA%91%E5%9B%BE%E5%BA%8A%E6%8C%82%E4%BA%86%EF%BC%9F%E4%B8%8D%E7%94%A8%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D%E6%89%BE%E5%9B%9E%E5%9B%BE%E7%89%87/" class="post-title-link" itemprop="url">七牛云图床挂了？不用自定义域名找回图片</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-06-11 10:07:18" itemprop="dateCreated datePublished" datetime="2020-06-11T10:07:18+00:00">2020-06-11</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2021-07-25 03:23:07" itemprop="dateModified" datetime="2021-07-25T03:23:07+00:00">2021-07-25</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><ul>
<li>新创建的存储空间有 30 天的测试域名，利用这个测试域名可以下载文件。</li>
<li>利用七牛云提供的命令行工具，把原空间文件批量拷贝到新空间</li>
</ul>
<!--- more -->

<h2 id="1-下载-CLI-工具并绑定账号"><a href="#1-下载-CLI-工具并绑定账号" class="headerlink" title="1. 下载 CLI 工具并绑定账号"></a>1. 下载 CLI 工具并绑定账号</h2><p><a target="_blank" rel="noopener" href="https://developer.qiniu.com/kodo/tools/1302/qshell">https://developer.qiniu.com/kodo/tools/1302/qshell</a><br>以 window 为例，下载后在当前文件夹执行命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./qshell-windows-x64.exe account [AccessKey] [SecretKey]</span><br></pre></td></tr></table></figure>

<h2 id="2-下载原空间文件列表"><a href="#2-下载原空间文件列表" class="headerlink" title="2. 下载原空间文件列表"></a>2. 下载原空间文件列表</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./qshell-windows-x64.exe listbucket marvinxu-blog list.txt</span><br></pre></td></tr></table></figure>

<p><strong>注意：下载完后的列表里包含文件类型、大小等其他信息，统统删掉，每行只保留文件名</strong></p>
<h2 id="3-在七牛云控制台新建空间"><a href="#3-在七牛云控制台新建空间" class="headerlink" title="3. 在七牛云控制台新建空间"></a><strong>3. 在七牛云控制台新建空间</strong></h2><p><strong><img src="https://cdn.nlark.com/yuque/0/2020/png/1310147/1591870705500-e2df6f7c-445b-4a31-9baf-725d206d4b10.png#align=left&display=inline&height=217&margin=%5Bobject%20Object%5D&name=image.png&originHeight=434&originWidth=1244&size=42893&status=done&style=none&width=622" alt="image.png"></strong><br><strong>注意</strong>：新建空间一定要与域名失效空间在一个地区服务器上，否则无法拷贝进文件。</p>
<h2 id="4-批量拷贝文件到新空间"><a href="#4-批量拷贝文件到新空间" class="headerlink" title="4. 批量拷贝文件到新空间"></a>4. 批量拷贝文件到新空间</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./qshell-windows-x64.exe batchcopy --force --overwrite marvinxu-blog marvin2006 list.txt</span><br></pre></td></tr></table></figure>

<h2 id="5-下载文件"><a href="#5-下载文件" class="headerlink" title="5. 下载文件"></a>5. 下载文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./qshell-windows-x64.exe qdownload download.conf</span><br></pre></td></tr></table></figure>

<p>download.conf</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;dest_dir&quot;</span>: <span class="string">&quot;E:\\qiniu&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;bucket&quot;</span>: <span class="string">&quot;marvin2006&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;cdn_domain&quot;</span>: <span class="string">&quot;qbr9xkevc.bkt.clouddn.com&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意路径要双斜杠，否则解析错误</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://marvinxu.top/2020/04/19/yuque/%E7%94%A8Adobe%20Acrobat%E4%B8%BA%E7%94%B5%E5%AD%90%E4%B9%A6%E5%88%B6%E4%BD%9C%E4%B9%A6%E7%AD%BE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Marvin Xu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Marvin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/04/19/yuque/%E7%94%A8Adobe%20Acrobat%E4%B8%BA%E7%94%B5%E5%AD%90%E4%B9%A6%E5%88%B6%E4%BD%9C%E4%B9%A6%E7%AD%BE/" class="post-title-link" itemprop="url">用Adobe Acrobat为电子书制作书签</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-04-19 10:42:16" itemprop="dateCreated datePublished" datetime="2020-04-19T10:42:16+00:00">2020-04-19</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2021-07-25 03:23:07" itemprop="dateModified" datetime="2021-07-25T03:23:07+00:00">2021-07-25</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>最近在翻看《JavaScript 高级程序设计 第 3 版》这本书，发现有些内容过时了，找了找发现第 4 版英文原版已经有了，但是网上找的免费的 PDF 都没有书签，看得很费劲，闲的自己做了个书签。</p>
<h2 id="1-印刷版和页码相关知识"><a href="#1-印刷版和页码相关知识" class="headerlink" title="1. 印刷版和页码相关知识"></a>1. 印刷版和页码相关知识</h2><p>因为下载的这个 PDF 是印刷版，而且它除了没有书签，连<strong>页码也不连续</strong>，导致我一开始做书签的时候非常懵逼。通过查资料和跟其他制作好的电子书对比，让我逐渐对这个东西有了一些了解。</p>
<p>印刷版 PDF 有两个特点：</p>
<ol>
<li>左右页边距大小不一，且相邻页的页边距也不一致（因为要装订且分正反页）</li>
<li>有空白页（因为分正反页有的地方需要空一页，比如封面、章结尾）</li>
</ol>
<p>页码：很多书籍都会用<strong>分段页码</strong>，比如正文之前用小写罗马数字（i、ii、ixii…），正文部分用阿拉伯数字，这导致了正文部分的页码跟 PDF 的页码数不一致</p>
<blockquote>
<p>因为懒的再去找 Reference，上面都是基于我的理解写出来的，所以可能有不对</p>
</blockquote>
<h2 id="2-制作步骤"><a href="#2-制作步骤" class="headerlink" title="2. 制作步骤"></a>2. 制作步骤</h2><p>软件准备：Adobe Acrobat DC 2020 + AutoBookmark 插件<br>插件链接  <a target="_blank" rel="noopener" href="https://www.evermap.com/autobookmark.asp#SystemReq">https://www.evermap.com/autobookmark.asp#SystemReq</a></p>
<!--- more -->

<h4 id="1-通过页面标签设置分段页码"><a href="#1-通过页面标签设置分段页码" class="headerlink" title="1. 通过页面标签设置分段页码"></a>1. 通过页面标签设置分段页码</h4><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1310147/1587296148943-24b1019d-3096-4193-974e-f86ae9e7a2e0.png#align=left&display=inline&height=432&margin=%5Bobject%20Object%5D&name=image.png&originHeight=863&originWidth=443&size=70368&status=done&style=none&width=222" alt="image.png"><img src="https://cdn.nlark.com/yuque/0/2020/png/1310147/1587296234660-9d5d1b0c-6b21-432f-865f-5aa2bf23e0e7.png#align=left&display=inline&height=309&margin=%5Bobject%20Object%5D&name=image.png&originHeight=618&originWidth=567&size=60376&status=done&style=none&width=283.5" alt="image.png"><br>正文前部分用小写罗马数字，正文用阿拉伯数字<br>设置完之后，正文部分的页码就对上了：<br><img src="https://cdn.nlark.com/yuque/0/2020/png/1310147/1587296771074-39201b8d-6062-4701-929c-873174d03d0b.png#align=left&display=inline&height=478&margin=%5Bobject%20Object%5D&name=image.png&originHeight=955&originWidth=1130&size=231274&status=done&style=none&width=565" alt="image.png"></p>
<h4 id="2-补充空白页，使页码连续"><a href="#2-补充空白页，使页码连续" class="headerlink" title="2. 补充空白页，使页码连续"></a>2. 补充空白页，使页码连续</h4><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1310147/1587297407455-7f5d245a-0c8d-4080-9892-12e2998dd7ad.png#align=left&display=inline&height=394&margin=%5Bobject%20Object%5D&name=image.png&originHeight=787&originWidth=1093&size=239768&status=done&style=none&width=546.5" alt="image.png"><br>检查章节末尾，如果页码不连续就补空白页</p>
<h4 id="3-开始添加书签"><a href="#3-开始添加书签" class="headerlink" title="3. 开始添加书签"></a>3. 开始添加书签</h4><p>光标选中章节标题，菜单栏点击增效工具-&gt;bookmarks-&gt;Generate from Text Styles，发现会自动获取章节标题的样式<br><img src="https://cdn.nlark.com/yuque/0/2020/png/1310147/1587297901083-2dafafb5-f761-4be5-b742-2b15f549169a.png#align=left&display=inline&height=367&margin=%5Bobject%20Object%5D&name=image.png&originHeight=734&originWidth=653&size=77224&status=done&style=none&width=326.5" alt="image.png"><br>然后选中二级标题，点击 Add 按钮，加入二级标题的样式，以此类推，把各级标题都添加进去。<br>为了识别准确率，限定页码范围在正文部分。<br>点 OK，就会自动生成书签了~</p>
<h4 id="4-修改已生成的书签"><a href="#4-修改已生成的书签" class="headerlink" title="4. 修改已生成的书签"></a>4. 修改已生成的书签</h4><p>如果需要批量编辑已生成的书签，比如加上序号、前缀等，可以从   增效工具-&gt;bookmarks-&gt;Modify Bookmarks 中选择需要的操作。<br>比如现在我想给每个章节书签前加上“Chapter {number}: ”，选择 Add Prefix / Suffix To Bookmarks<br><img src="https://cdn.nlark.com/yuque/0/2020/png/1310147/1587298412772-e1c5f564-5ef1-4b91-ba59-9fddc7bf3b07.png#align=left&display=inline&height=329&margin=%5Bobject%20Object%5D&name=image.png&originHeight=657&originWidth=563&size=65232&status=done&style=none&width=281.5" alt="image.png"><br>看下最终生成的效果：<br><img src="https://cdn.nlark.com/yuque/0/2020/png/1310147/1587298474308-4d4f03d6-52ac-4090-996f-bca9a0a4a711.png#align=left&display=inline&height=439&margin=%5Bobject%20Object%5D&name=image.png&originHeight=877&originWidth=405&size=46644&status=done&style=none&width=202.5" alt="image.png"><br>总共 1000 多个书签，如果手动添加那可真是浪费时间呢！</p>
<p>最后分享一下带书签版本的《Professional JavaScript for Web Developers 4th Edition》<br><a target="_blank" rel="noopener" href="https://www.yuque.com/attachments/yuque/0/2020/pdf/1310147/1587298816551-c5da2293-d382-488c-9fbd-9a0ba8898ccb.pdf?_lake_card=%7B%22uid%22:%221587298814004-0%22,%22src%22:%22https://www.yuque.com/attachments/yuque/0/2020/pdf/1310147/1587298816551-c5da2293-d382-488c-9fbd-9a0ba8898ccb.pdf%22,%22name%22:%22Professional.JavaScript.for.Web.Developers.4th.Edition.Bookmark.v2.pdf%22,%22size%22:5740868,%22type%22:%22application/pdf%22,%22ext%22:%22pdf%22,%22progress%22:%7B%22percent%22:99%7D,%22status%22:%22done%22,%22percent%22:0,%22id%22:%22rrmfx%22,%22card%22:%22file%22%7D">Professional.JavaScript.for.Web.Developers.4th.Edition.Bookmark.v2.pdf</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>





</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Marvin Xu</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.6.1/source/js/comments.min.js"></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.6.1/source/js/utils.min.js"></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.6.1/source/js/motion.min.js"></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-next@8.6.1/source/js/next-boot.min.js"></script>

  




  





</body>
</html>
